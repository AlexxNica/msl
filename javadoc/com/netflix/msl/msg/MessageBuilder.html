<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Fri Jul 04 10:32:59 PDT 2014 -->
<TITLE>
MessageBuilder (Message Security Layer Public API)
</TITLE>

<META NAME="date" CONTENT="2014-07-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessageBuilder (Message Security Layer Public API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/Header.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MessageBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netflix.msl.msg</FONT>
<BR>
Class MessageBuilder</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.netflix.msl.msg.MessageBuilder</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>MessageBuilder</B><DT>extends <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
<p>A message builder provides methods for building messages.</p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg">MessageCapabilities</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#capabilities">capabilities</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message capabilities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#ctx">ctx</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MSL context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#EMPTY_DATA">EMPTY_DATA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Empty service token data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#handshake">handshake</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handshake message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#keyExchangeData">keyExchangeData</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key exchange data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#keyRequestData">keyRequestData</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data key request data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#masterToken">masterToken</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message header master token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#messageId">messageId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data message ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#nonReplayable">nonReplayable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message non-replayable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#peerMasterToken">peerMasterToken</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header peer data master token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#peerServiceTokens">peerServiceTokens</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header peer data service tokens keyed off token name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#peerUserIdToken">peerUserIdToken</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header peer data user ID token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#recipient">recipient</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message recipient.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#renewable">renewable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data renewable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#serviceTokens">serviceTokens</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data service tokens keyed off token name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#userAuthData">userAuthData</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data user authentication data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#userIdToken">userIdToken</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Header data user ID token.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#MessageBuilder(com.netflix.msl.util.MslContext, java.lang.String, long, com.netflix.msl.msg.MessageCapabilities, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.util.Set, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.util.Set, com.netflix.msl.keyx.KeyExchangeFactory.KeyExchangeData)">MessageBuilder</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
               <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
               long&nbsp;messageId,
               <A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg">MessageCapabilities</A>&nbsp;capabilities,
               <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
               <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
               <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;&nbsp;serviceTokens,
               <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;peerMasterToken,
               <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;peerUserIdToken,
               <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;&nbsp;peerServiceTokens,
               <A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A>&nbsp;keyExchangeData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new message builder with the provided tokens and key exchange
 data if a master token was issued or renewed.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#addKeyRequestData(com.netflix.msl.keyx.KeyRequestData)">addKeyRequestData</A></B>(<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&nbsp;keyRequestData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add key request data to the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#addPeerServiceToken(com.netflix.msl.tokens.ServiceToken)">addPeerServiceToken</A></B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a peer service token to the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#addPeerServiceTokenIfAbsent(com.netflix.msl.tokens.ServiceToken)">addPeerServiceTokenIfAbsent</A></B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a peer service token to the message if a peer service token with
 the same name does not already exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#addServiceToken(com.netflix.msl.tokens.ServiceToken)">addServiceToken</A></B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a service token to the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#addServiceTokenIfAbsent(com.netflix.msl.tokens.ServiceToken)">addServiceTokenIfAbsent</A></B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a service token to the message if a service token with the same
 name does not already exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/netflix/msl/msg/ErrorHeader.html" title="class in com.netflix.msl.msg">ErrorHeader</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#createErrorResponse(com.netflix.msl.util.MslContext, java.lang.String, java.lang.Long, com.netflix.msl.MslError, java.lang.String)">createErrorResponse</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                    <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
                    <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;requestMessageId,
                    <A HREF="../../../../com/netflix/msl/MslError.html" title="class in com.netflix.msl">MslError</A>&nbsp;error,
                    <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userMessage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new message builder that will craft a new error message in
 response to another message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#createRequest(com.netflix.msl.util.MslContext, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.lang.String)">createRequest</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
              <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
              <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
              <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new message builder that will craft a new message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#createRequest(com.netflix.msl.util.MslContext, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.lang.String, long)">createRequest</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
              <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
              <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
              <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
              long&nbsp;messageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new message builder that will craft a new message with the
 specified message ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#createResponse(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageHeader)">createResponse</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
               <A HREF="../../../../com/netflix/msl/msg/MessageHeader.html" title="class in com.netflix.msl.msg">MessageHeader</A>&nbsp;requestHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new message builder that will craft a new message in response
 to another message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#decrementMessageId(long)">decrementMessageId</A></B>(long&nbsp;messageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decrements the provided message ID by 1, wrapping around to
 <A HREF="../../../../com/netflix/msl/MslConstants.html#MAX_LONG_VALUE"><CODE>MslConstants.MAX_LONG_VALUE</CODE></A> if the provided value is equal to 0.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#deletePeerServiceToken(java.lang.String)">deletePeerServiceToken</A></B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mark a peer service token for deletion, if it exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#deleteServiceToken(java.lang.String)">deleteServiceToken</A></B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mark a service token for deletion, if it exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#excludePeerServiceToken(java.lang.String)">excludePeerServiceToken</A></B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exclude a peer service token from the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#excludeServiceToken(java.lang.String)">excludeServiceToken</A></B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exclude a service token from the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageHeader.html" title="class in com.netflix.msl.msg">MessageHeader</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getHeader()">getHeader</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct the message header from the current message builder state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getKeyExchangeData()">getKeyExchangeData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getMasterToken()">getMasterToken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getMessageId()">getMessageId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getPeerMasterToken()">getPeerMasterToken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getPeerServiceTokens()">getPeerServiceTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getPeerUserIdToken()">getPeerUserIdToken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getServiceTokens()">getServiceTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#getUserIdToken()">getUserIdToken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#incrementMessageId(long)">incrementMessageId</A></B>(long&nbsp;messageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increments the provided message ID by 1, wrapping around to zero if
 the provided value is equal to <A HREF="../../../../com/netflix/msl/MslConstants.html#MAX_LONG_VALUE"><CODE>MslConstants.MAX_LONG_VALUE</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#isHandshake()">isHandshake</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#isNonReplayable()">isNonReplayable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#isRenewable()">isRenewable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#issueMasterToken(com.netflix.msl.util.MslContext, java.util.Set, com.netflix.msl.tokens.MasterToken, java.lang.String)">issueMasterToken</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                 <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt;&nbsp;keyRequestData,
                 <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                 <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;identity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issue a new master token for the specified identity or renew an existing
 master token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#removeKeyRequestData(com.netflix.msl.keyx.KeyRequestData)">removeKeyRequestData</A></B>(<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&nbsp;keyRequestData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove key request data from the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setAuthTokens(com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken)">setAuthTokens</A></B>(<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
              <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set or change the master token and user ID token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setHandshake(boolean)">setHandshake</A></B>(boolean&nbsp;handshake)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the message handshake flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setNonReplayable(boolean)">setNonReplayable</A></B>(boolean&nbsp;nonReplayable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make the message non-replayable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setPeerAuthTokens(com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken)">setPeerAuthTokens</A></B>(<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                  <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the peer master token and peer user ID token of the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setRenewable(boolean)">setRenewable</A></B>(boolean&nbsp;renewable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the message renewable flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setUser(com.netflix.msl.tokens.MslUser)">setUser</A></B>(<A HREF="../../../../com/netflix/msl/tokens/MslUser.html" title="interface in com.netflix.msl.tokens">MslUser</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the remote user of the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setUserAuthenticationData(com.netflix.msl.userauth.UserAuthenticationData)">setUserAuthenticationData</A></B>(<A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A>&nbsp;userAuthData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the user authentication data of the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#willEncryptHeader()">willEncryptHeader</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#willEncryptPayloads()">willEncryptPayloads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#willIntegrityProtectHeader()">willIntegrityProtectHeader</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#willIntegrityProtectPayloads()">willIntegrityProtectPayloads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="EMPTY_DATA"><!-- --></A><H3>
EMPTY_DATA</H3>
<PRE>
private static final byte[] <B>EMPTY_DATA</B></PRE>
<DL>
<DD>Empty service token data.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ctx"><!-- --></A><H3>
ctx</H3>
<PRE>
private final <A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A> <B>ctx</B></PRE>
<DL>
<DD>MSL context.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="masterToken"><!-- --></A><H3>
masterToken</H3>
<PRE>
private <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A> <B>masterToken</B></PRE>
<DL>
<DD>Message header master token.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="recipient"><!-- --></A><H3>
recipient</H3>
<PRE>
private final <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>recipient</B></PRE>
<DL>
<DD>Message recipient.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="messageId"><!-- --></A><H3>
messageId</H3>
<PRE>
private final long <B>messageId</B></PRE>
<DL>
<DD>Header data message ID.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="keyExchangeData"><!-- --></A><H3>
keyExchangeData</H3>
<PRE>
private final <A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A> <B>keyExchangeData</B></PRE>
<DL>
<DD>Key exchange data.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nonReplayable"><!-- --></A><H3>
nonReplayable</H3>
<PRE>
private boolean <B>nonReplayable</B></PRE>
<DL>
<DD>Message non-replayable.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="renewable"><!-- --></A><H3>
renewable</H3>
<PRE>
private boolean <B>renewable</B></PRE>
<DL>
<DD>Header data renewable.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="handshake"><!-- --></A><H3>
handshake</H3>
<PRE>
private boolean <B>handshake</B></PRE>
<DL>
<DD>Handshake message.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="capabilities"><!-- --></A><H3>
capabilities</H3>
<PRE>
private final <A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg">MessageCapabilities</A> <B>capabilities</B></PRE>
<DL>
<DD>Message capabilities.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="keyRequestData"><!-- --></A><H3>
keyRequestData</H3>
<PRE>
private final <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt; <B>keyRequestData</B></PRE>
<DL>
<DD>Header data key request data.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="userAuthData"><!-- --></A><H3>
userAuthData</H3>
<PRE>
private <A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A> <B>userAuthData</B></PRE>
<DL>
<DD>Header data user authentication data.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="userIdToken"><!-- --></A><H3>
userIdToken</H3>
<PRE>
private <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A> <B>userIdToken</B></PRE>
<DL>
<DD>Header data user ID token.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="serviceTokens"><!-- --></A><H3>
serviceTokens</H3>
<PRE>
private final <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt; <B>serviceTokens</B></PRE>
<DL>
<DD>Header data service tokens keyed off token name.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="peerMasterToken"><!-- --></A><H3>
peerMasterToken</H3>
<PRE>
private <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A> <B>peerMasterToken</B></PRE>
<DL>
<DD>Header peer data master token.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="peerUserIdToken"><!-- --></A><H3>
peerUserIdToken</H3>
<PRE>
private <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A> <B>peerUserIdToken</B></PRE>
<DL>
<DD>Header peer data user ID token.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="peerServiceTokens"><!-- --></A><H3>
peerServiceTokens</H3>
<PRE>
private final <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt; <B>peerServiceTokens</B></PRE>
<DL>
<DD>Header peer data service tokens keyed off token name.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MessageBuilder(com.netflix.msl.util.MslContext, java.lang.String, long, com.netflix.msl.msg.MessageCapabilities, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.util.Set, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.util.Set, com.netflix.msl.keyx.KeyExchangeFactory.KeyExchangeData)"><!-- --></A><H3>
MessageBuilder</H3>
<PRE>
private <B>MessageBuilder</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                       <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
                       long&nbsp;messageId,
                       <A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg">MessageCapabilities</A>&nbsp;capabilities,
                       <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                       <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
                       <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;&nbsp;serviceTokens,
                       <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;peerMasterToken,
                       <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;peerUserIdToken,
                       <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt;&nbsp;peerServiceTokens,
                       <A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A>&nbsp;keyExchangeData)
                throws <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD>Create a new message builder with the provided tokens and key exchange
 data if a master token was issued or renewed.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>recipient</CODE> - message recipient. May be null.<DD><CODE>messageId</CODE> - message ID.<DD><CODE>capabilities</CODE> - message capabilities.<DD><CODE>masterToken</CODE> - master token. May be null unless a user ID token is
        provided.<DD><CODE>userIdToken</CODE> - user ID token. May be null.<DD><CODE>serviceTokens</CODE> - initial set of service tokens. May be null.<DD><CODE>peerMasterToken</CODE> - peer master token. May be null unless a peer user
        ID token is provided.<DD><CODE>peerUserIdToken</CODE> - peer user ID token. May be null.<DD><CODE>peerServiceTokens</CODE> - initial set of peer service tokens.
        May be null.<DD><CODE>keyExchangeData</CODE> - key exchange data. May be null.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if a user ID token is not bound to its master
         token.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="incrementMessageId(long)"><!-- --></A><H3>
incrementMessageId</H3>
<PRE>
public static long <B>incrementMessageId</B>(long&nbsp;messageId)</PRE>
<DL>
<DD>Increments the provided message ID by 1, wrapping around to zero if
 the provided value is equal to <A HREF="../../../../com/netflix/msl/MslConstants.html#MAX_LONG_VALUE"><CODE>MslConstants.MAX_LONG_VALUE</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>messageId</CODE> - the message ID to increment.
<DT><B>Returns:</B><DD>the message ID + 1.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslInternalException.html" title="class in com.netflix.msl">MslInternalException</A></CODE> - if the provided message ID is out of range.</DL>
</DD>
</DL>
<HR>

<A NAME="decrementMessageId(long)"><!-- --></A><H3>
decrementMessageId</H3>
<PRE>
public static long <B>decrementMessageId</B>(long&nbsp;messageId)</PRE>
<DL>
<DD>Decrements the provided message ID by 1, wrapping around to
 <A HREF="../../../../com/netflix/msl/MslConstants.html#MAX_LONG_VALUE"><CODE>MslConstants.MAX_LONG_VALUE</CODE></A> if the provided value is equal to 0.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>messageId</CODE> - the message ID to decrement.
<DT><B>Returns:</B><DD>the message ID - 1.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslInternalException.html" title="class in com.netflix.msl">MslInternalException</A></CODE> - if the provided message ID is out of range.</DL>
</DD>
</DL>
<HR>

<A NAME="issueMasterToken(com.netflix.msl.util.MslContext, java.util.Set, com.netflix.msl.tokens.MasterToken, java.lang.String)"><!-- --></A><H3>
issueMasterToken</H3>
<PRE>
private static <A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A> <B>issueMasterToken</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                                                   <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt;&nbsp;keyRequestData,
                                                                   <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                                                                   <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;identity)
                                                            throws <A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A>,
                                                                   <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                                                                   <A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A>,
                                                                   <A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A>,
                                                                   <A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A>,
                                                                   <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD>Issue a new master token for the specified identity or renew an existing
 master token.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>keyRequestData</CODE> - available key request data.<DD><CODE>masterToken</CODE> - master token to renew. Null if the identity is
        provided.<DD><CODE>identity</CODE> - entity identity. Null if a master token is provided.
<DT><B>Returns:</B><DD>the new master token and crypto context.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if the crypto context cannot be created.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A></CODE> - if there is an error with the key
         request data or the key response data cannot be created or none
         of the key exchange schemes are supported.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A></CODE> - if the master token is not trusted.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A></CODE> - if there is an error parsing or encoding
         the JSON.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A></CODE> - if there is a problem with the master
         token identity or entity identity.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if there is an error creating or renewing the
         master token.</DL>
</DD>
</DL>
<HR>

<A NAME="createRequest(com.netflix.msl.util.MslContext, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.lang.String, long)"><!-- --></A><H3>
createRequest</H3>
<PRE>
public static <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>createRequest</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                           <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                                           <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
                                           <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
                                           long&nbsp;messageId)
                                    throws <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD><p>Create a new message builder that will craft a new message with the
 specified message ID.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>masterToken</CODE> - master token. May be null unless a user ID token is
        provided.<DD><CODE>userIdToken</CODE> - user ID token. May be null.<DD><CODE>recipient</CODE> - message recipient. May be null.<DD><CODE>messageId</CODE> - the message ID to use. Must be within range.
<DT><B>Returns:</B><DD>the message builder.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if a user ID token is not bound to its
         corresponding master token.</DL>
</DD>
</DL>
<HR>

<A NAME="createRequest(com.netflix.msl.util.MslContext, com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken, java.lang.String)"><!-- --></A><H3>
createRequest</H3>
<PRE>
public static <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>createRequest</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                           <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                                           <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken,
                                           <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient)
                                    throws <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD><p>Create a new message builder that will craft a new message.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>masterToken</CODE> - master token. May be null unless a user ID token is
        provided.<DD><CODE>userIdToken</CODE> - user ID token. May be null.<DD><CODE>recipient</CODE> - message recipient. May be null.
<DT><B>Returns:</B><DD>the message builder.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if a user ID token is not bound to its
         corresponding master token.</DL>
</DD>
</DL>
<HR>

<A NAME="createResponse(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageHeader)"><!-- --></A><H3>
createResponse</H3>
<PRE>
public static <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>createResponse</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                            <A HREF="../../../../com/netflix/msl/msg/MessageHeader.html" title="class in com.netflix.msl.msg">MessageHeader</A>&nbsp;requestHeader)
                                     throws <A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A>,
                                            <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                                            <A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A>,
                                            <A HREF="../../../../com/netflix/msl/MslUserAuthException.html" title="class in com.netflix.msl">MslUserAuthException</A>,
                                            <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD>Create a new message builder that will craft a new message in response
 to another message. The constructed message may be used as a request.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>requestHeader</CODE> - message header to respond to.
<DT><B>Returns:</B><DD>the message builder.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A></CODE> - if the provided message's master token
         is not trusted.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if the crypto context from a key exchange
         cannot be created.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A></CODE> - if there is an error with the key
         request data or the key response data cannot be created.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslUserAuthException.html" title="class in com.netflix.msl">MslUserAuthException</A></CODE> - if there is an error with the user
         authentication data or the user ID token cannot be created.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if a user ID token in the message header is not
         bound to its corresponding master token or there is an error
         creating or renewing the master token.</DL>
</DD>
</DL>
<HR>

<A NAME="createErrorResponse(com.netflix.msl.util.MslContext, java.lang.String, java.lang.Long, com.netflix.msl.MslError, java.lang.String)"><!-- --></A><H3>
createErrorResponse</H3>
<PRE>
public static <A HREF="../../../../com/netflix/msl/msg/ErrorHeader.html" title="class in com.netflix.msl.msg">ErrorHeader</A> <B>createErrorResponse</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                              <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;recipient,
                                              <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;requestMessageId,
                                              <A HREF="../../../../com/netflix/msl/MslError.html" title="class in com.netflix.msl">MslError</A>&nbsp;error,
                                              <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userMessage)
                                       throws <A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A>,
                                              <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                                              <A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A>,
                                              <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Create a new message builder that will craft a new error message in
 response to another message. If the message ID of the request is not
 specified (i.e. unknown) then a random message ID will be generated.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>recipient</CODE> - error response recipient. May be null.<DD><CODE>requestMessageId</CODE> - message ID of request. May be null.<DD><CODE>error</CODE> - the MSL error.<DD><CODE>userMessage</CODE> - localized user-consumable error message. May be null.
<DT><B>Returns:</B><DD>the error header.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A></CODE> - if there is an error encoding the JSON
         data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if there is an error encrypting or signing
         the message.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A></CODE> - if there is an error with the entity
         authentication data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if no entity authentication data was
         returned by the MSL context.</DL>
</DD>
</DL>
<HR>

<A NAME="getMessageId()"><!-- --></A><H3>
getMessageId</H3>
<PRE>
public long <B>getMessageId</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the message ID the builder will use.</DL>
</DD>
</DL>
<HR>

<A NAME="getMasterToken()"><!-- --></A><H3>
getMasterToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A> <B>getMasterToken</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the primary master token or null if the message will use entity
         authentication data.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserIdToken()"><!-- --></A><H3>
getUserIdToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A> <B>getUserIdToken</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the primary user ID token or null if the message will use user
         authentication data.</DL>
</DD>
</DL>
<HR>

<A NAME="getKeyExchangeData()"><!-- --></A><H3>
getKeyExchangeData</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/keyx/KeyExchangeFactory.KeyExchangeData.html" title="class in com.netflix.msl.keyx">KeyExchangeFactory.KeyExchangeData</A> <B>getKeyExchangeData</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the key exchange data or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="willEncryptHeader()"><!-- --></A><H3>
willEncryptHeader</H3>
<PRE>
public boolean <B>willEncryptHeader</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message builder will create a message capable of
         encrypting the header data.</DL>
</DD>
</DL>
<HR>

<A NAME="willEncryptPayloads()"><!-- --></A><H3>
willEncryptPayloads</H3>
<PRE>
public boolean <B>willEncryptPayloads</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message builder will create a message capable of
         encrypting the payload data.</DL>
</DD>
</DL>
<HR>

<A NAME="willIntegrityProtectHeader()"><!-- --></A><H3>
willIntegrityProtectHeader</H3>
<PRE>
public boolean <B>willIntegrityProtectHeader</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message builder will create a message capable of
         integrity protecting the header data.</DL>
</DD>
</DL>
<HR>

<A NAME="willIntegrityProtectPayloads()"><!-- --></A><H3>
willIntegrityProtectPayloads</H3>
<PRE>
public boolean <B>willIntegrityProtectPayloads</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message builder will create a message capable of
         integrity protecting the payload data.</DL>
</DD>
</DL>
<HR>

<A NAME="getHeader()"><!-- --></A><H3>
getHeader</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageHeader.html" title="class in com.netflix.msl.msg">MessageHeader</A> <B>getHeader</B>()
                        throws <A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A>,
                               <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                               <A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A>,
                               <A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A>,
                               <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A>,
                               <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD>Construct the message header from the current message builder state.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the message header.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A></CODE> - if there is an error encoding the JSON
         data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if there is an error encrypting or signing
         the message.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMasterTokenException.html" title="class in com.netflix.msl">MslMasterTokenException</A></CODE> - if the header master token is not
         trusted and needs to be to accept this message header.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEntityAuthException.html" title="class in com.netflix.msl">MslEntityAuthException</A></CODE> - if there is an error with the entity
         authentication data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the message is non-replayable but does
         not include a master token.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - should not happen.</DL>
</DD>
</DL>
<HR>

<A NAME="isNonReplayable()"><!-- --></A><H3>
isNonReplayable</H3>
<PRE>
public boolean <B>isNonReplayable</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message will be marked non-replayable.</DL>
</DD>
</DL>
<HR>

<A NAME="setNonReplayable(boolean)"><!-- --></A><H3>
setNonReplayable</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>setNonReplayable</B>(boolean&nbsp;nonReplayable)</PRE>
<DL>
<DD>Make the message non-replayable. If true this will also set the
 handshake flag to false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nonReplayable</CODE> - true if the message should be non-replayable.
<DT><B>Returns:</B><DD>this.<DT><B>See Also:</B><DD><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setHandshake(boolean)"><CODE>setHandshake(boolean)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isRenewable()"><!-- --></A><H3>
isRenewable</H3>
<PRE>
public boolean <B>isRenewable</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message will be marked renewable.</DL>
</DD>
</DL>
<HR>

<A NAME="setRenewable(boolean)"><!-- --></A><H3>
setRenewable</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>setRenewable</B>(boolean&nbsp;renewable)</PRE>
<DL>
<DD>Set the message renewable flag. If false this will also set the
 handshake flag to false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>renewable</CODE> - true if the message is renewable.
<DT><B>Returns:</B><DD>this.<DT><B>See Also:</B><DD><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setHandshake(boolean)"><CODE>setHandshake(boolean)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isHandshake()"><!-- --></A><H3>
isHandshake</H3>
<PRE>
public boolean <B>isHandshake</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message will be marked as a handshake message.</DL>
</DD>
</DL>
<HR>

<A NAME="setHandshake(boolean)"><!-- --></A><H3>
setHandshake</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>setHandshake</B>(boolean&nbsp;handshake)</PRE>
<DL>
<DD>Set the message handshake flag. If true this will also set the non-
 replayable flag to false and the renewable flag to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handshake</CODE> - true if the message is a handshake message.
<DT><B>Returns:</B><DD>this.<DT><B>See Also:</B><DD><A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setNonReplayable(boolean)"><CODE>setNonReplayable(boolean)</CODE></A>, 
<A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html#setRenewable(boolean)"><CODE>setRenewable(boolean)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setAuthTokens(com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken)"><!-- --></A><H3>
setAuthTokens</H3>
<PRE>
public void <B>setAuthTokens</B>(<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                          <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken)</PRE>
<DL>
<DD><p>Set or change the master token and user ID token. This will overwrite
 any existing tokens. If the user ID token is not null then any existing
 user authentication data will be removed.</p>

 <p>Changing these tokens may result in invalidation of existing service
 tokens. Those service tokens will be removed from the message being
 built.</p>
 
 <p>This is a special method for the <A HREF="../../../../com/netflix/msl/msg/MslControl.html" title="class in com.netflix.msl.msg"><CODE>MslControl</CODE></A> class that assumes
 the builder does not have key response data in trusted network mode.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>masterToken</CODE> - the master token.<DD><CODE>userIdToken</CODE> - the user ID token. May be null.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserAuthenticationData(com.netflix.msl.userauth.UserAuthenticationData)"><!-- --></A><H3>
setUserAuthenticationData</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>setUserAuthenticationData</B>(<A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A>&nbsp;userAuthData)</PRE>
<DL>
<DD><p>Set the user authentication data of the message.</p>
 
 <p>This will overwrite any existing user authentication data.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userAuthData</CODE> - user authentication data to set. May be null.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="setUser(com.netflix.msl.tokens.MslUser)"><!-- --></A><H3>
setUser</H3>
<PRE>
public void <B>setUser</B>(<A HREF="../../../../com/netflix/msl/tokens/MslUser.html" title="interface in com.netflix.msl.tokens">MslUser</A>&nbsp;user)
             throws <A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A>,
                    <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                    <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD><p>Set the remote user of the message. This will create a user ID token
 in trusted network mode or peer user ID token in peer-to-peer mode.</p>
 
 <p>Adding a new user ID token will not impact the service tokens; it is
 assumed that no service tokens exist that are bound to the newly created
 user ID token.</p>
 
 <p>This is a special method for the <A HREF="../../../../com/netflix/msl/msg/MslControl.html" title="class in com.netflix.msl.msg"><CODE>MslControl</CODE></A> class that assumes
 the builder does not already have a user ID token for the remote user
 and does have a master token that the new user ID token can be bound
 against.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - remote user.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A></CODE> - if there is an error encoding the JSON
         data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if there is an error encrypting or signing
         the token data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if there is an error creating the user ID token.</DL>
</DD>
</DL>
<HR>

<A NAME="addKeyRequestData(com.netflix.msl.keyx.KeyRequestData)"><!-- --></A><H3>
addKeyRequestData</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>addKeyRequestData</B>(<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&nbsp;keyRequestData)</PRE>
<DL>
<DD>Add key request data to the message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>keyRequestData</CODE> - key request data to add.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="removeKeyRequestData(com.netflix.msl.keyx.KeyRequestData)"><!-- --></A><H3>
removeKeyRequestData</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>removeKeyRequestData</B>(<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&nbsp;keyRequestData)</PRE>
<DL>
<DD>Remove key request data from the message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>keyRequestData</CODE> - key request data to remove.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="addServiceToken(com.netflix.msl.tokens.ServiceToken)"><!-- --></A><H3>
addServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>addServiceToken</B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)
                               throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Add a service token to the message. This will overwrite any service
 token with the same name.</p>
 
 <p>Adding a service token with empty data indicates the recipient should
 delete the service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serviceToken</CODE> - service token to add.
<DT><B>Returns:</B><DD>this.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the service token serial numbers do not
         match the primary master token or primary user ID token of the
         message being built.</DL>
</DD>
</DL>
<HR>

<A NAME="addServiceTokenIfAbsent(com.netflix.msl.tokens.ServiceToken)"><!-- --></A><H3>
addServiceTokenIfAbsent</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>addServiceTokenIfAbsent</B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)
                                       throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Add a service token to the message if a service token with the same
 name does not already exist.</p>
 
 <p>Adding a service token with empty data indicates the recipient should
 delete the service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serviceToken</CODE> - service token to add.
<DT><B>Returns:</B><DD>this.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the service token serial numbers do not
         match the master token or user ID token of the message being
         built.</DL>
</DD>
</DL>
<HR>

<A NAME="excludeServiceToken(java.lang.String)"><!-- --></A><H3>
excludeServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>excludeServiceToken</B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD><p>Exclude a service token from the message.</p>
 
 <p>The service token will not be sent in the built message. This is not
 the same as requesting the remote entity delete a service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - service token name.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteServiceToken(java.lang.String)"><!-- --></A><H3>
deleteServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>deleteServiceToken</B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD><p>Mark a service token for deletion, if it exists. Otherwise this
 method does nothing.</p>
 
 <p>The service token will be sent in the built message with an empty
 value. This is not the same as requesting that a service token be
 excluded from the message.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - service token name.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="getServiceTokens()"><!-- --></A><H3>
getServiceTokens</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt; <B>getServiceTokens</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the unmodifiable set of service tokens that will be included in
         the built message.</DL>
</DD>
</DL>
<HR>

<A NAME="getPeerMasterToken()"><!-- --></A><H3>
getPeerMasterToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A> <B>getPeerMasterToken</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the peer master token or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="getPeerUserIdToken()"><!-- --></A><H3>
getPeerUserIdToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A> <B>getPeerUserIdToken</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the peer user ID token or null if there is none.</DL>
</DD>
</DL>
<HR>

<A NAME="setPeerAuthTokens(com.netflix.msl.tokens.MasterToken, com.netflix.msl.tokens.UserIdToken)"><!-- --></A><H3>
setPeerAuthTokens</H3>
<PRE>
public void <B>setPeerAuthTokens</B>(<A HREF="../../../../com/netflix/msl/tokens/MasterToken.html" title="class in com.netflix.msl.tokens">MasterToken</A>&nbsp;masterToken,
                              <A HREF="../../../../com/netflix/msl/tokens/UserIdToken.html" title="class in com.netflix.msl.tokens">UserIdToken</A>&nbsp;userIdToken)
                       throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Set the peer master token and peer user ID token of the message. This
 will overwrite any existing peer master token or peer user ID token.</p>
 
 <p>Changing these tokens may result in invalidation of existing peer
 service tokens. Those peer service tokens will be removed from the
 message being built.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>masterToken</CODE> - peer master token to set. May be null.<DD><CODE>userIdToken</CODE> - peer user ID token to set. May be null.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the peer user ID token is not bound to
         the peer master token.</DL>
</DD>
</DL>
<HR>

<A NAME="addPeerServiceToken(com.netflix.msl.tokens.ServiceToken)"><!-- --></A><H3>
addPeerServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>addPeerServiceToken</B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)
                                   throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Add a peer service token to the message. This will overwrite any peer
 service token with the same name.</p>
 
 <p>Adding a service token with empty data indicates the recipient should
 delete the service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serviceToken</CODE> - service token to add.
<DT><B>Returns:</B><DD>this.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the service token serial numbers do not
         match the peer master token or peer user ID token of the message
         being built.</DL>
</DD>
</DL>
<HR>

<A NAME="addPeerServiceTokenIfAbsent(com.netflix.msl.tokens.ServiceToken)"><!-- --></A><H3>
addPeerServiceTokenIfAbsent</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>addPeerServiceTokenIfAbsent</B>(<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&nbsp;serviceToken)
                                           throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></PRE>
<DL>
<DD><p>Add a peer service token to the message if a peer service token with
 the same name does not already exist.</p>
 
 <p>Adding a service token with empty data indicates the recipient should
 delete the service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serviceToken</CODE> - service token to add.
<DT><B>Returns:</B><DD>this.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the service token serial numbers do not
         match the peer master token or peer user ID token of the message
         being built.</DL>
</DD>
</DL>
<HR>

<A NAME="excludePeerServiceToken(java.lang.String)"><!-- --></A><H3>
excludePeerServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>excludePeerServiceToken</B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD><p>Exclude a peer service token from the message.</p>
 
 <p>The service token will not be sent in the built message. This is not
 the same as requesting the remote entity delete a service token.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - service token name.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="deletePeerServiceToken(java.lang.String)"><!-- --></A><H3>
deletePeerServiceToken</H3>
<PRE>
public <A HREF="../../../../com/netflix/msl/msg/MessageBuilder.html" title="class in com.netflix.msl.msg">MessageBuilder</A> <B>deletePeerServiceToken</B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD><p>Mark a peer service token for deletion, if it exists. Otherwise this
 method does nothing.</p>
 
 <p>The service token will be sent in the built message with an empty
 value. This is not the same as requesting that a service token be
 excluded from the message.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - service token name.
<DT><B>Returns:</B><DD>this.</DL>
</DD>
</DL>
<HR>

<A NAME="getPeerServiceTokens()"><!-- --></A><H3>
getPeerServiceTokens</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/tokens/ServiceToken.html" title="class in com.netflix.msl.tokens">ServiceToken</A>&gt; <B>getPeerServiceTokens</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the unmodifiable set of peer service tokens that will be
         included in the built message.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/Header.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MessageBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2014 Netflix, Inc. All Rights Reserved.
</BODY>
</HTML>
