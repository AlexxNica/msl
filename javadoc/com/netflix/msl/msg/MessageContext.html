<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Fri Jul 04 10:32:59 PDT 2014 -->
<TITLE>
MessageContext (Message Security Layer Public API)
</TITLE>

<META NAME="date" CONTENT="2014-07-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessageContext (Message Security Layer Public API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageContext.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageContext.ReauthCode.html" title="enum in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MessageContext.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageContext.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netflix.msl.msg</FONT>
<BR>
Interface MessageContext</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../com/netflix/msl/msg/MslControl.FilterMessageContext.html" title="class in com.netflix.msl.msg">MslControl.FilterMessageContext</A>, <A HREF="../../../../com/netflix/msl/msg/MslControl.KeyxResponseMessageContext.html" title="class in com.netflix.msl.msg">MslControl.KeyxResponseMessageContext</A>, <A HREF="../../../../com/netflix/msl/msg/MslControl.ResendMessageContext.html" title="class in com.netflix.msl.msg">MslControl.ResendMessageContext</A>, <A HREF="../../../../com/netflix/msl/msg/NonReplayableMessageContext.html" title="class in com.netflix.msl.msg">NonReplayableMessageContext</A>, <A HREF="../../../../com/netflix/msl/msg/PublicMessageContext.html" title="class in com.netflix.msl.msg">PublicMessageContext</A>, <A HREF="../../../../com/netflix/msl/msg/SecretMessageContext.html" title="class in com.netflix.msl.msg">SecretMessageContext</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>MessageContext</B></DL>
</PRE>

<P>
<p>The message context provides the information that should be used to
 construct a single message. Each message should have its own context.</p>
 
 <p>All context methods may be called multiple times except for
 <code>#write(OutputStream)</code> which is guaranteed to be called only once.
 (The written data will be cached in memory in case the message needs to be
 resent.)</p>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.ReauthCode.html" title="enum in com.netflix.msl.msg">MessageContext.ReauthCode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re-authentication reason codes.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/crypto/ICryptoContext.html" title="interface in com.netflix.msl.crypto">ICryptoContext</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getCryptoContexts()">getCryptoContexts</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when receiving a message to process service tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageDebugContext.html" title="interface in com.netflix.msl.msg">MessageDebugContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getDebugContext()">getDebugContext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a message debug context applicable to the message being sent or
 received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getKeyRequestData()">getKeyRequestData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called if a request is eligible for key exchange (i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getRecipient()">getRecipient</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to identify the entity identity the message application data
 is intended for.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/tokens/MslUser.html" title="interface in com.netflix.msl.tokens">MslUser</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUser()">getUser</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called if a message does not contain a user ID token for the remote
 user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)">getUserAuthData</A></B>(<A HREF="../../../../com/netflix/msl/msg/MessageContext.ReauthCode.html" title="enum in com.netflix.msl.msg">MessageContext.ReauthCode</A>&nbsp;reauthCode,
                boolean&nbsp;renewable,
                boolean&nbsp;required)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called if the user ID is not <code>null</code> to attach user
 authentication data to messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserId()">getUserId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to identify the local user the message should be sent with.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#isEncrypted()">isEncrypted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to determine if the message application data must be
 encrypted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#isIntegrityProtected()">isIntegrityProtected</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to determine if the message application data must be integrity
 protected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#isNonReplayable()">isNonReplayable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to determine if a message should be marked as non-replayable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#isRequestingTokens()">isRequestingTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to determine if a message is requesting a master token, user
 ID token, or service tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#updateServiceTokens(com.netflix.msl.msg.MessageServiceTokenBuilder, boolean)">updateServiceTokens</A></B>(<A HREF="../../../../com/netflix/msl/msg/MessageServiceTokenBuilder.html" title="class in com.netflix.msl.msg">MessageServiceTokenBuilder</A>&nbsp;builder,
                    boolean&nbsp;handshake)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called prior to message sending to allow the processor to modify the
 message being built.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MessageContext.html#write(com.netflix.msl.msg.MessageOutputStream)">write</A></B>(<A HREF="../../../../com/netflix/msl/msg/MessageOutputStream.html" title="class in com.netflix.msl.msg">MessageOutputStream</A>&nbsp;output)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when the message is ready to be sent.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getCryptoContexts()"><!-- --></A><H3>
getCryptoContexts</H3>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="../../../../com/netflix/msl/crypto/ICryptoContext.html" title="interface in com.netflix.msl.crypto">ICryptoContext</A>&gt; <B>getCryptoContexts</B>()</PRE>
<DL>
<DD><p>Called when receiving a message to process service tokens.</p>
 
 <p>This method should return a map of crypto contexts by service token
 name for all known service tokens. If the service token name is not
 found then the crypto context mapped onto the empty string will be
 used if found.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the service token crypto contexts.</DL>
</DD>
</DL>
<HR>

<A NAME="getRecipient()"><!-- --></A><H3>
getRecipient</H3>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getRecipient</B>()</PRE>
<DL>
<DD><p>Called to identify the entity identity the message application data
 is intended for. If the identity is not known this method must return
 <code>null</code>.</p> 
 
 <p>Trusted network servers may always return <code>null</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the entity identity of the application data recipient or
         <code>null</code> if the identity is not known.</DL>
</DD>
</DL>
<HR>

<A NAME="isEncrypted()"><!-- --></A><H3>
isEncrypted</H3>
<PRE>
boolean <B>isEncrypted</B>()</PRE>
<DL>
<DD><p>Called to determine if the message application data must be
 encrypted.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the application data must be encrypted.</DL>
</DD>
</DL>
<HR>

<A NAME="isIntegrityProtected()"><!-- --></A><H3>
isIntegrityProtected</H3>
<PRE>
boolean <B>isIntegrityProtected</B>()</PRE>
<DL>
<DD><p>Called to determine if the message application data must be integrity
 protected.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the application data must be integrity protected.</DL>
</DD>
</DL>
<HR>

<A NAME="isNonReplayable()"><!-- --></A><H3>
isNonReplayable</H3>
<PRE>
boolean <B>isNonReplayable</B>()</PRE>
<DL>
<DD><p>Called to determine if a message should be marked as non-replayable.</p>
 
 <p>Trusted network servers must always return <code>false</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the application data should not be carried in a
         replayable message.</DL>
</DD>
</DL>
<HR>

<A NAME="isRequestingTokens()"><!-- --></A><H3>
isRequestingTokens</H3>
<PRE>
boolean <B>isRequestingTokens</B>()</PRE>
<DL>
<DD><p>Called to determine if a message is requesting a master token, user
 ID token, or service tokens.</p>
 
 <p>Trusted network servers must always return <code>false</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the message must have a master token and user ID token
         (if associated with a user) or must be carried in a renewable
         message to acquire said tokens.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserId()"><!-- --></A><H3>
getUserId</H3>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getUserId</B>()</PRE>
<DL>
<DD><p>Called to identify the local user the message should be sent with. If
 a user ID token exists for this user it will be used.</p>
 
 <p>Trusted network servers must always return <code>null</code>.</p>
 
 <p>Any non-null value returned by this method must match the local user
 associated with the user authentication data returned by
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)"><CODE>getUserAuthData(ReauthCode, boolean, boolean)</CODE></A>.</p>
 
 <p>This method may return a non-null value when
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)"><CODE>getUserAuthData(ReauthCode, boolean, boolean)</CODE></A> will return null
 if the message should be associated with a user but there is no user
 authentication data. For example during new user creation.</p>
 
 <p>This method must return <code>null</code> if the message should not be
 associated with a user and
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)"><CODE>getUserAuthData(ReauthCode, boolean, boolean)</CODE></A> will also return
 <code>null</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the local user identity or null.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)"><!-- --></A><H3>
getUserAuthData</H3>
<PRE>
<A HREF="../../../../com/netflix/msl/userauth/UserAuthenticationData.html" title="class in com.netflix.msl.userauth">UserAuthenticationData</A> <B>getUserAuthData</B>(<A HREF="../../../../com/netflix/msl/msg/MessageContext.ReauthCode.html" title="enum in com.netflix.msl.msg">MessageContext.ReauthCode</A>&nbsp;reauthCode,
                                       boolean&nbsp;renewable,
                                       boolean&nbsp;required)</PRE>
<DL>
<DD><p>Called if the user ID is not <code>null</code> to attach user
 authentication data to messages.</p>
 
 <p>Trusted network servers must always return <code>null</code>.</p>
 
 <p>This method should return user authentication data if the message
 should be associated with a user that has not already received a user ID
 token. This may involve prompting the user for credentials. If the
 message should not be associated with a user, a user ID token already
 exists for the user, or if user credentials are unavailable then this
 method should return <code>null</code>.</p>

 <p>The one exception is if the application wishes to re-authenticate the
 user against the current user ID token in which case this method should
 return user authentication data. The <code>renewable</code> parameter may be
 used to limit this operation to renewable messages.</p>
 
 <p>This method may be called if user re-authentication is required for
 the transaction to complete. If the application knows that user
 authentication is required for the request being sent and is unable to
 provide user authentication data then it should attempt to cancel the
 request and return <code>null</code>.</p>
 
 <p>If the <code>reauthCode</code> parameter is non-<code>null</code> then new user
 authentication data should be returned for this and all subsequent calls.
 The application may wish to return <code>null</code> if it knows that the
 request being sent can no longer succeed because the existing user ID
 token or service tokens are no longer valid. This will abort the
 request. Note that a <code>reauthCode</code> argument may be provided even if
 no user authentication data was included in the message.</p>
 
 <p>If the <code>required</code> parameter is true then user authentication
 should be returned for this call, even if a user ID token already exists
 for the user. <code>null</code> should still be returned when <code>required</code>
 is true if the message should be associated with a user but there is no
 user authentication data. For example during new user creation.</p>
 
 <p>This method will be called multiple times.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reauthCode</CODE> - non-<code>null</code> if new user authentication data is
        required. The reason the old user authentication data was
        rejected is identified by the code.<DD><CODE>renewable</CODE> - true if the message being sent is renewable.<DD><CODE>required</CODE> - true if user authentication data must be returned.
<DT><B>Returns:</B><DD>the user authentication data or null.</DL>
</DD>
</DL>
<HR>

<A NAME="getUser()"><!-- --></A><H3>
getUser</H3>
<PRE>
<A HREF="../../../../com/netflix/msl/tokens/MslUser.html" title="interface in com.netflix.msl.tokens">MslUser</A> <B>getUser</B>()</PRE>
<DL>
<DD><p>Called if a message does not contain a user ID token for the remote
 user.</p>
 
 <p>Trusted network clients must always return <code>null</code>.</p>
 
 <p>If a non-null value is returned by this method and a master token
 exists for the remote entity then a new user ID token will be created
 for the remote user and sent in the message. This is not the user
 identified by <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserId()"><CODE>getUserId()</CODE></A> or authenticated by
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#getUserAuthData(com.netflix.msl.msg.MessageContext.ReauthCode, boolean, boolean)"><CODE>getUserAuthData(ReauthCode, boolean, boolean)</CODE></A> as those methods
 are used for the local user.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the user to attach to the message or null.</DL>
</DD>
</DL>
<HR>

<A NAME="getKeyRequestData()"><!-- --></A><H3>
getKeyRequestData</H3>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../com/netflix/msl/keyx/KeyRequestData.html" title="class in com.netflix.msl.keyx">KeyRequestData</A>&gt; <B>getKeyRequestData</B>()
                                      throws <A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A></PRE>
<DL>
<DD><p>Called if a request is eligible for key exchange (i.e. the request
 is renewable and contains entity authentication data or a renewable
 master token).</p>
 
 <p>Trusted network servers must always return the empty set.</p>
 
 <p>This method must return key request data for all supported key
 exchange schemes. Failure to provide any key request data may result in
 message delivery failures.</p>
 
 <p>This method may also be called if entity re-authentication is required
 for the transaction to complete.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the key request data. May be the empty set.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslKeyExchangeException.html" title="class in com.netflix.msl">MslKeyExchangeException</A></CODE> - if there is an error generating the key
         request data.</DL>
</DD>
</DL>
<HR>

<A NAME="updateServiceTokens(com.netflix.msl.msg.MessageServiceTokenBuilder, boolean)"><!-- --></A><H3>
updateServiceTokens</H3>
<PRE>
void <B>updateServiceTokens</B>(<A HREF="../../../../com/netflix/msl/msg/MessageServiceTokenBuilder.html" title="class in com.netflix.msl.msg">MessageServiceTokenBuilder</A>&nbsp;builder,
                         boolean&nbsp;handshake)
                         throws <A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A>,
                                <A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A>,
                                <A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A>,
                                <A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></PRE>
<DL>
<DD><p>Called prior to message sending to allow the processor to modify the
 message being built.</p>
 
 <p>The boolean <code>handshake</code> will be true if the function is being
 called for a handshake message that must be sent before the application
 data can be sent. The builder for handshake messages may lack a master
 token, user ID token, and other bound service tokens.</p>
 
 <p>This is a synchronous callback; the processor should finish using the
 builder before returning from the function.</p>
 
 <p>This method will be called multiple times. The set of service tokens
 managed by the provided message service token builder may be different
 for each call. The processor should treat each call to this method
 independently from each other.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>builder</CODE> - message service token builder.<DD><CODE>handshake</CODE> - true if the provided builder is for a handshake message.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/netflix/msl/MslMessageException.html" title="class in com.netflix.msl">MslMessageException</A></CODE> - if the builder throws an exception or the
         desired service tokens cannot be attached.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslCryptoException.html" title="class in com.netflix.msl">MslCryptoException</A></CODE> - if there is an error encrypting or signing
         the service token data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslEncodingException.html" title="class in com.netflix.msl">MslEncodingException</A></CODE> - if there is an error encoding the service
         token JSON data.
<DD><CODE><A HREF="../../../../com/netflix/msl/MslException.html" title="class in com.netflix.msl">MslException</A></CODE> - if there is an error compressing the data.<DT><B>See Also:</B><DD><A HREF="../../../../com/netflix/msl/MslError.html#RESPONSE_REQUIRES_MASTERTOKEN"><CODE>MslError.RESPONSE_REQUIRES_MASTERTOKEN</CODE></A>, 
<A HREF="../../../../com/netflix/msl/MslError.html#RESPONSE_REQUIRES_USERIDTOKEN"><CODE>MslError.RESPONSE_REQUIRES_USERIDTOKEN</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="write(com.netflix.msl.msg.MessageOutputStream)"><!-- --></A><H3>
write</H3>
<PRE>
void <B>write</B>(<A HREF="../../../../com/netflix/msl/msg/MessageOutputStream.html" title="class in com.netflix.msl.msg">MessageOutputStream</A>&nbsp;output)
           throws <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><p>Called when the message is ready to be sent. The processor should
 use the provided <code>MessageOutputStream</code> to write its application
 data. This method will only be called once.</p>
 
 <p>This is a synchronous callback; the processor should not retain a
 handle to the message output stream after returning from the function.
 It is okay for this method to be long-running as the data will be
 streamed.</p>
 
 <p>If application data must be sent before the remote entity can reply
 then this method must call <A HREF="../../../../com/netflix/msl/msg/MessageOutputStream.html#flush()"><CODE>MessageOutputStream.flush()</CODE></A> before
 returning. If all of the application data must be sent before the remote
 entity can reply then this method must call
 <A HREF="../../../../com/netflix/msl/msg/MessageOutputStream.html#close()"><CODE>MessageOutputStream.close()</CODE></A> before returning. Closing the
 message output stream will prevent further use of the output stream
 returned by <A HREF="../../../../com/netflix/msl/msg/MslControl.html" title="class in com.netflix.msl.msg"><CODE>MslControl</CODE></A>.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>output</CODE> - message output stream.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if the output stream throws an I/O exception.</DL>
</DD>
</DL>
<HR>

<A NAME="getDebugContext()"><!-- --></A><H3>
getDebugContext</H3>
<PRE>
<A HREF="../../../../com/netflix/msl/msg/MessageDebugContext.html" title="interface in com.netflix.msl.msg">MessageDebugContext</A> <B>getDebugContext</B>()</PRE>
<DL>
<DD>Returns a message debug context applicable to the message being sent or
 received.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the message debug context or <code>null</code> if there is none.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageContext.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageCapabilities.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageContext.ReauthCode.html" title="enum in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MessageContext.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageContext.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2014 Netflix, Inc. All Rights Reserved.
</BODY>
</HTML>
