<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Fri Jul 04 10:33:07 PDT 2014 -->
<TITLE>
MslControl (Message Security Layer Public API)
</TITLE>

<META NAME="date" CONTENT="2014-07-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MslControl (Message Security Layer Public API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MslControl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageServiceTokenBuilder.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MslControl.ApplicationError.html" title="enum in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MslControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MslControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netflix.msl.msg</FONT>
<BR>
Class MslControl</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.netflix.msl.msg.MslControl</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>MslControl</B><DT>extends <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
<p>Message Security Layer control provides the base operational MSL logic of
 sending and receiving messages with an optional thread pool. An application
 should only use one instance of <code>MslControl</code> for all MSL
 communication. This class is thread-safe.</p>
 
 <p>This class provides methods for sending and receiving messages for all
 types of entities in both trusted network and peer-to-peer network types.
 Refer to the documentation for each method to determine which methods should
 be used based on the entity's role and network type.</p>
 
 <h3>Error Handling</h3>
 
 <dl>
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#FAIL"><CODE>MslConstants.ResponseCode.FAIL</CODE></A></dt>
  <dd>The caller is notified of the failure.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#TRANSIENT_FAILURE"><CODE>MslConstants.ResponseCode.TRANSIENT_FAILURE</CODE></A></dt>
  <dd>The caller is notified of the failure. MSL will not automatically
      retry.</dd>
      
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#ENTITY_REAUTH"><CODE>MslConstants.ResponseCode.ENTITY_REAUTH</CODE></A></dt>
  <dd>MSL will attempt to resend the message using the entity authentication
      data. The previous master token and master token-bound service tokens
      will be discarded if successful.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#USER_REAUTH"><CODE>MslConstants.ResponseCode.USER_REAUTH</CODE></A></dt>
  <dd>MSL will attempt to resend the message using the user authentication
      data if made available by the message context. Otherwise request fails.
      The previous user ID token-bound service tokens will be discarded if
      successful.</dd>
      
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#KEYX_REQUIRED"><CODE>MslConstants.ResponseCode.KEYX_REQUIRED</CODE></A></dt>
  <dd>MSL will attempt to perform key exchange to establish session keys and
      then resend the message.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#ENTITYDATA_REAUTH"><CODE>MslConstants.ResponseCode.ENTITYDATA_REAUTH</CODE></A></dt>
  <dd>MSL will attempt to resend the message using new entity authentication
      data. The previous master token and master token-bound service tokens
      will be discarded if successful.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#USERDATA_REAUTH"><CODE>MslConstants.ResponseCode.USERDATA_REAUTH</CODE></A></dt>
  <dd>MSL will attempt to resend the message using new user authentication
      data if made available by the message context. Otherwise request fails.
      The previous user ID token-bound service tokens will be discarded if
      successful.</dd>
      
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#EXPIRED"><CODE>MslConstants.ResponseCode.EXPIRED</CODE></A></dt>
  <dd>MSL will attempt to resend the message with the renewable flag set or
      after receiving a new master token.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#REPLAYED"><CODE>MslConstants.ResponseCode.REPLAYED</CODE></A></dt>
  <dd>MSL will attempt to resend the message after renewing the master token
      or receiving a new master token.</dd>
  
  <dt><A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#SSOTOKEN_REJECTED"><CODE>MslConstants.ResponseCode.SSOTOKEN_REJECTED</CODE></A></dt>
  <dd>Identical to <A HREF="../../../../com/netflix/msl/MslConstants.ResponseCode.html#USERDATA_REAUTH"><CODE>MslConstants.ResponseCode.USERDATA_REAUTH</CODE></A>.</dd>
 </dl>
 
 <h3>Anti-Replay</h3>
 
 <p>Requests marked as non-replayable will include a non-replayable ID.</p>
 
 <p>Responses must always reply with the message ID of the request
 incremented by 1. When the request message ID equals 2<sup>63</sup>-1 the
 response message ID must be 0. If the response message ID does not equal the
 expected value it is rejected and the caller is notified.</p>
 
 <h3>Renewal Synchronization</h3>
 
 <p>For a given MSL context there will be at most one renewable request with
 a master token and key request data in process. This prevents excessive
 master token renewal and potential renewal race conditions.</p>
 
 <p>Requests will be marked renewable if any of the following is true:
 <ul>
 <li>The master token renewal window has been entered.</li>
 <li>The user ID token renewal window has been entered.</li>
 <li>The application requests or requires establishment of session keys.</li>
 </ul>
 </p>
 
 <h3>MSL Handshake</h3>
 
 <p>Whenever requested or possible application data is encrypted and
 integrity-protected while in transit. If the MSL context entity
 authentication scheme does not support encryption or integrity protection
 when requested an initial handshake will be performed to establish session
 keys. This handshake occurs silently without the application's
 knowledge.</p>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.ApplicationError.html" title="enum in com.netflix.msl.msg">MslControl.ApplicationError</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Application level errors that may translate into MSL level errors.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A <A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg"><CODE>MessageInputStream</CODE></A> and <CODE>MessageOutputStream</CODE> pair
 representing a single MSL communication channel established between
 the local and remote entities.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#MslControl(int)">MslControl</A></B>(int&nbsp;numThreads)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new instance of MSL control with the specified number of
 threads.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#MslControl(int, com.netflix.msl.msg.ErrorMessageRegistry)">MslControl</A></B>(int&nbsp;numThreads,
           <A HREF="../../../../com/netflix/msl/msg/ErrorMessageRegistry.html" title="interface in com.netflix.msl.msg">ErrorMessageRegistry</A>&nbsp;messageRegistry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new instance of MSL control with the specified number of
 threads and user error message registry.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#cancelled(java.lang.Throwable)">cancelled</A></B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the current thread has been interrupted as indicated by
 the <code>Thread#isInterrupted()</code> method or the type of caught
 throwable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#error(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, com.netflix.msl.msg.MslControl.ApplicationError, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream)">error</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
      <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
      <A HREF="../../../../com/netflix/msl/msg/MslControl.ApplicationError.html" title="enum in com.netflix.msl.msg">MslControl.ApplicationError</A>&nbsp;err,
      <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
      <A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send an error response over the provided output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)">receive</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
        <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
        int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive a request over the provided input stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)">request</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
        <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
        int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a request to the remote entity over the provided output stream
 and receive a resposne over the provided input stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.net.URL, int)">request</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
        <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</A>&nbsp;remoteEntity,
        int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a request to the entity at the provided URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#respond(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream, int)">respond</A></B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
        <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
        <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
        <A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&nbsp;request,
        int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a response over the provided output stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#setFilterFactory(com.netflix.msl.msg.FilterStreamFactory)">setFilterFactory</A></B>(<A HREF="../../../../com/netflix/msl/msg/FilterStreamFactory.html" title="interface in com.netflix.msl.msg">FilterStreamFactory</A>&nbsp;factory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assigns a filter stream factory that will be used to filter any incoming
 or outgoing messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/netflix/msl/msg/MslControl.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gracefully shutdown the MSL control instance.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MslControl(int)"><!-- --></A><H3>
MslControl</H3>
<PRE>
public <B>MslControl</B>(int&nbsp;numThreads)</PRE>
<DL>
<DD>Create a new instance of MSL control with the specified number of
 threads. A thread count of zero will cause all operations to execute on
 the calling thread.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>numThreads</CODE> - number of worker threads to create.</DL>
</DL>
<HR>

<A NAME="MslControl(int, com.netflix.msl.msg.ErrorMessageRegistry)"><!-- --></A><H3>
MslControl</H3>
<PRE>
public <B>MslControl</B>(int&nbsp;numThreads,
                  <A HREF="../../../../com/netflix/msl/msg/ErrorMessageRegistry.html" title="interface in com.netflix.msl.msg">ErrorMessageRegistry</A>&nbsp;messageRegistry)</PRE>
<DL>
<DD>Create a new instance of MSL control with the specified number of
 threads and user error message registry. A thread count of zero will
 cause all operations to execute on the calling thread.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>numThreads</CODE> - number of worker threads to create.<DD><CODE>messageRegistry</CODE> - error message registry.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="cancelled(java.lang.Throwable)"><!-- --></A><H3>
cancelled</H3>
<PRE>
protected static boolean <B>cancelled</B>(<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A>&nbsp;t)</PRE>
<DL>
<DD>Returns true if the current thread has been interrupted as indicated by
 the <code>Thread#isInterrupted()</code> method or the type of caught
 throwable.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>t</CODE> - caught throwable. May be null.
<DT><B>Returns:</B><DD>true if this thread was interrupted or the exception indicates
         an operation was interrupted.</DL>
</DD>
</DL>
<HR>

<A NAME="setFilterFactory(com.netflix.msl.msg.FilterStreamFactory)"><!-- --></A><H3>
setFilterFactory</H3>
<PRE>
public void <B>setFilterFactory</B>(<A HREF="../../../../com/netflix/msl/msg/FilterStreamFactory.html" title="interface in com.netflix.msl.msg">FilterStreamFactory</A>&nbsp;factory)</PRE>
<DL>
<DD>Assigns a filter stream factory that will be used to filter any incoming
 or outgoing messages. The filters will be placed between the MSL message
 and MSL control, meaning they will see the actual MSL message data as it
 is being read from or written to the remote entity.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>factory</CODE> - filter stream factory. May be null.</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>()</PRE>
<DL>
<DD>Gracefully shutdown the MSL control instance. No additional messages may
 be processed. Any messages pending or in process will be completed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
protected void <B>finalize</B>()
                 throws <A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A></PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A></CODE> in class <CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><!-- --></A><H3>
receive</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&gt; <B>receive</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                          <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
                                          <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
                                          <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
                                          int&nbsp;timeout)</PRE>
<DL>
<DD><p>Receive a request over the provided input stream.</p>
 
 <p>If there is an error with the message an error response will be sent
 over the provided output stream.</p>
 
 <p>This method should only be used by trusted network servers and peer-
 to-peer entities to receive a request initiated by the remote entity.
 The remote entity should have used
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.net.URL, int)"><CODE>request(MslContext, MessageContext, URL, int)</CODE></A>.<p>
 
 <p>The returned <code>Future</code> will return the received
 <code>MessageInputStream</code> on completion or <code>null</code> if a reply was
 automatically sent (for example in response to a handshake request) or
 if the operation was cancelled or interrupted. The returned message may
 be an error message if the maximum number of messages is hit without
 successfully receiving the final message. It may throw a
 <code>MslException</code>, <code>MslErrorResponseException</code>, or
 <code>IOException</code>.</p>
 
 <p>The remote entity input and output streams will not be closed in case
 the caller wishes to reuse them.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>msgCtx</CODE> - message context.<DD><CODE>in</CODE> - remote entity input stream.<DD><CODE>out</CODE> - remote entity output stream.<DD><CODE>timeout</CODE> - renewal acquisition lock timeout in milliseconds.
<DT><B>Returns:</B><DD>a future for the message.</DL>
</DD>
</DL>
<HR>

<A NAME="respond(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream, int)"><!-- --></A><H3>
respond</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt; <B>respond</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                             <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
                                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
                                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
                                             <A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&nbsp;request,
                                             int&nbsp;timeout)</PRE>
<DL>
<DD><p>Send a response over the provided output stream.</p>
 
 <p>This method should only be used by trusted network servers and peer-
 to-peer entities after receiving a request via
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>.
 The remote entity should have used
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.net.URL, int)"><CODE>request(MslContext, MessageContext, URL, int)</CODE></A>.</p>
 
 <p>The returned <code>Future</code> will return a <code>MslChannel</code>
 containing the final <code>MessageOutputStream</code> that should be used to
 send any additional application data not already sent via
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#write(com.netflix.msl.msg.MessageOutputStream)"><CODE>MessageContext.write(MessageOutputStream)</CODE></A> to the remote entity,
 and in peer-to-peer mode may also contain a <code>MessageInputStream</code>
 as described below.</p>
 
 <p>In peer-to-peer mode a new <code>MessageInputStream</code> may be returned
 which should be used in place of the previous <code>MessageInputStream</code>
 being responded to. This will only occur if the initial response sent
 could not include application data and was instead a handshake message.
 The new <code>MessageInputStream</code> will not include any application data
 already read off of the previous <code>MessageInputStream</code>; it will
 only contain new application data that is a continuation of the previous
 message's application data.</p>
 
 <p>The returned <code>Future</code> will return <code>null</code> if cancelled,
 interrupted, if an error response was received (peer-to-peer only)
 resulting in a failure to establish the communication channel, if the
 response could not be sent with encryption or integrity protection when
 required (trusted network-mode only), if a user cannot be attached to
 the response due to lack of a master token, or if the maximum number of
 messages is hit without sending the message. In these cases the remote
 entity's next message can be received by another call to
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>.</p>
 
 <p>It may throw a <code>MslException</code>,
 <code>MslErrorResponseException</code>, or <code>IOException</code>.</p>
 
 <p>The remote entity input and output streams will not be closed in case
 the caller wishes to reuse them.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>msgCtx</CODE> - message context.<DD><CODE>in</CODE> - remote entity input stream.<DD><CODE>out</CODE> - remote entity output stream.<DD><CODE>request</CODE> - message input stream to create the response for.<DD><CODE>timeout</CODE> - renewal lock acquisition timeout in milliseconds.
<DT><B>Returns:</B><DD>a future for the communication channel.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the request message input stream is
         an error message.</DL>
</DD>
</DL>
<HR>

<A NAME="error(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, com.netflix.msl.msg.MslControl.ApplicationError, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream)"><!-- --></A><H3>
error</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</A>&gt; <B>error</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                             <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
                             <A HREF="../../../../com/netflix/msl/msg/MslControl.ApplicationError.html" title="enum in com.netflix.msl.msg">MslControl.ApplicationError</A>&nbsp;err,
                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
                             <A HREF="../../../../com/netflix/msl/msg/MessageInputStream.html" title="class in com.netflix.msl.msg">MessageInputStream</A>&nbsp;request)</PRE>
<DL>
<DD><p>Send an error response over the provided output stream. Any replies
 to the error response may be received by a subsequent call to
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>.</p>
 
 <p>This method should only be used by trusted network servers and peer-
 to-peer entities after receiving a request via
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>.
 The remote entity should have used
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.net.URL, int)"><CODE>request(MslContext, MessageContext, URL, int)</CODE></A>.</p>
 
 <p>The returned <code>Future</code> will return true on success or false if
 cancelled or interrupted. It may throw a <code>MslException</code> or
 <code>IOException</code>.</p>
 
 <p>The remote entity input and output streams will not be closed in case
 the caller wishes to reuse them.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>msgCtx</CODE> - message context.<DD><CODE>err</CODE> - error type.<DD><CODE>out</CODE> - remote entity output stream.<DD><CODE>request</CODE> - request input srtream to create the response for.
<DT><B>Returns:</B><DD>a future for the operation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the request message input stream is
         an error message.</DL>
</DD>
</DL>
<HR>

<A NAME="request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.net.URL, int)"><!-- --></A><H3>
request</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt; <B>request</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                             <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
                                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</A>&nbsp;remoteEntity,
                                             int&nbsp;timeout)</PRE>
<DL>
<DD><p>Send a request to the entity at the provided URL.</p>
 
 <p>This method should only be used by trusted network clients when
 initiating a new request. The remote entity should be using
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>
 and
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#respond(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream, int)"><CODE>respond(MslContext, MessageContext, InputStream, OutputStream, MessageInputStream, int)</CODE></A>.</p>
 
 <p>The returned <code>Future</code> will return a <code>MslChannel</code>
 containing the final <code>MessageOutputStream</code> that should be used to
 send any additional application data not already sent via
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#write(com.netflix.msl.msg.MessageOutputStream)"><CODE>MessageContext.write(MessageOutputStream)</CODE></A> and the
 <code>MessageInputStream</code> of the established MSL communication
 channel. If an error message was received then the MSL channel's message
 output stream will be <code>null</code>.</p>
 
 <p>The returned <code>Future</code> will return <code>null</code> if cancelled or
 interrupted. The returned message may be an error message if the maximum
 number of messages is hit without successfully sending the request and
 receiving the response. It may throw a <code>MslException</code> or
 <code>IOException</code>.</p>
 
 <p>The caller must close the returned message input stream and message
 outut stream.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>msgCtx</CODE> - message context.<DD><CODE>remoteEntity</CODE> - remote entity URL.<DD><CODE>timeout</CODE> - connect, read, and renewal lock acquisition timeout in
        milliseconds.
<DT><B>Returns:</B><DD>a future for the communication channel.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if used in peer-to-peer mode.</DL>
</DD>
</DL>
<HR>

<A NAME="request(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><!-- --></A><H3>
request</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</A>&lt;<A HREF="../../../../com/netflix/msl/msg/MslControl.MslChannel.html" title="class in com.netflix.msl.msg">MslControl.MslChannel</A>&gt; <B>request</B>(<A HREF="../../../../com/netflix/msl/util/MslContext.html" title="interface in com.netflix.msl.util">MslContext</A>&nbsp;ctx,
                                             <A HREF="../../../../com/netflix/msl/msg/MessageContext.html" title="interface in com.netflix.msl.msg">MessageContext</A>&nbsp;msgCtx,
                                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;in,
                                             <A HREF="http://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;out,
                                             int&nbsp;timeout)</PRE>
<DL>
<DD><p>Send a request to the remote entity over the provided output stream
 and receive a resposne over the provided input stream.</p>
 
 <p>This method should only be used by peer-to-peer entities when
 initiating a new request. The remote entity should be using
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#receive(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, int)"><CODE>receive(MslContext, MessageContext, InputStream, OutputStream, int)</CODE></A>
 and
 <A HREF="../../../../com/netflix/msl/msg/MslControl.html#respond(com.netflix.msl.util.MslContext, com.netflix.msl.msg.MessageContext, java.io.InputStream, java.io.OutputStream, com.netflix.msl.msg.MessageInputStream, int)"><CODE>respond(MslContext, MessageContext, InputStream, OutputStream, MessageInputStream, int)</CODE></A>.</p>
 
 <p>The returned <code>Future</code> will return a <code>MslChannel</code>
 containing the final <code>MessageOutputStream</code> that should be used to
 send any additional application data not already sent via
 <A HREF="../../../../com/netflix/msl/msg/MessageContext.html#write(com.netflix.msl.msg.MessageOutputStream)"><CODE>MessageContext.write(MessageOutputStream)</CODE></A> and the
 <code>MessageInputStream</code> of the established MSL communication
 channel. If an error message was received then the MSL channel's message
 output stream will be <code>null</code>.</p>
 
 <p>The returned <code>Future</code> will return <code>null</code> if cancelled or
 interrupted. The returned message may be an error message if the maximum
 number of messages is hit without successfully sending the request and
 receiving the response. It may throw a <code>MslException</code> or
 <code>IOException</code>.</p>
 
 <p>The caller must close the returned message input stream and message
 outut stream. The remote entity input and output streams will not be
 closed when the message input and output streams are closed, in case the
 caller wishes to reuse them.</p>
 
 TODO once Java supports the WebSocket protocol we can remove this method
 in favor of the one accepting a URL parameter. (Or is it the other way
 around?)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ctx</CODE> - MSL context.<DD><CODE>msgCtx</CODE> - message context.<DD><CODE>in</CODE> - remote entity input stream.<DD><CODE>out</CODE> - remote entity output stream.<DD><CODE>timeout</CODE> - renewal lock acquisition timeout in milliseconds.
<DT><B>Returns:</B><DD>a future for the communication channel.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if used in trusted network mode.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MslControl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Message Security Layer (MSL)</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MessageServiceTokenBuilder.html" title="class in com.netflix.msl.msg"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/netflix/msl/msg/MslControl.ApplicationError.html" title="enum in com.netflix.msl.msg"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/netflix/msl/msg/MslControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MslControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2014 Netflix, Inc. All Rights Reserved.
</BODY>
</HTML>
